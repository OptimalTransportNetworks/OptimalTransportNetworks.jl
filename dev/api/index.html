<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · OptimalTransportNetworks.jl</title><meta name="title" content="API · OptimalTransportNetworks.jl"/><meta property="og:title" content="API · OptimalTransportNetworks.jl"/><meta property="twitter:title" content="API · OptimalTransportNetworks.jl"/><meta name="description" content="Documentation for OptimalTransportNetworks.jl."/><meta property="og:description" content="Documentation for OptimalTransportNetworks.jl."/><meta property="twitter:description" content="Documentation for OptimalTransportNetworks.jl."/><meta property="og:url" content="https://SebKrantz.github.io/OptimalTransportNetworks.jl/stable/api/"/><meta property="twitter:url" content="https://SebKrantz.github.io/OptimalTransportNetworks.jl/stable/api/"/><link rel="canonical" href="https://SebKrantz.github.io/OptimalTransportNetworks.jl/stable/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">OptimalTransportNetworks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Module-Overview"><span>Module Overview</span></a></li><li class="toplevel"><a class="tocitem" href="#Functions-Index"><span>Functions Index</span></a></li><li class="toplevel"><a class="tocitem" href="#Exported-Functions"><span>Exported Functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Documented-Internal-Functions"><span>Documented Internal Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Documentation"><a class="docs-heading-anchor" href="#API-Documentation">API Documentation</a><a id="API-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#API-Documentation" title="Permalink"></a></h1><h1 id="Module-Overview"><a class="docs-heading-anchor" href="#Module-Overview">Module Overview</a><a id="Module-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Module-Overview" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.OptimalTransportNetworks" href="#OptimalTransportNetworks.OptimalTransportNetworks"><code>OptimalTransportNetworks.OptimalTransportNetworks</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><strong>Optimal Transport Networks in Spatial Equilibrium</strong></p><p>Pure Julia implementation of the model and algorithms presented in:</p><p>Fajgelbaum, P. D., &amp; Schaal, E. (2020). Optimal transport networks in spatial equilibrium. Econometrica, 88(4), 1411-1452.</p><p>The library is based on the JuMP modeling framework for mathematical optimization in Julia, and roughly follows the  MATLAB OptimalTransportNetworkToolbox (v1.0.4b) provided by the authors. Compared to MATLAB, the Julia library presents a simplified interface. Notably, the <code>graph</code> object contains both the graph structure and all data parameterizing  the network, whereas the <code>param</code> object only contains (non-spatial) model parameters.</p><p><strong>Exported Functions</strong></p><p><strong>Problem Setup</strong></p><p><code>init_paramaters()</code>   - Create parameters dictionary</p><p><code>create_graph()</code>      - Create network graph dictionary</p><p><code>apply_geography()</code>   - (Optional) apply geographical features to alter the graph edge weights (network building and traversing costs)</p><p><strong>Compute Optimal Network + Refine Solution in Non-Convex Cases</strong></p><p><code>optimal_network()</code>   - Compute optimal network given parameters and graph. Can also be used to just solve the model on a given network. </p><p><code>annealing()</code>         - Refine solution using simulated annealing in non-convex cases (automatically called in optimal_network() if param[:annealing] == true))</p><p><strong>Plot Graph (Incl. Network Solution)</strong></p><p><code>plot_graph()</code>        - Plot network graph and optimal infrastructure levels</p><p><strong>Helper Functions to Manipulate Graphs</strong></p><p><code>find_node()</code>         - Find index of node that is closest to a given pair of coordinates</p><p><code>add_node()</code>          - Add new node to graph with given coordinates and connected neighbors</p><p><code>remove_node()</code>       - Remove node from graph</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Convex case
param = init_parameters(K = 10)
graph = create_graph(param)
graph[:Zjn][61] = 10.0
results = optimal_network(param, graph)
plot_graph(graph, results[:Ijk])

# Nonconvex case, disabling automatic annealing
param = init_parameters(K = 10, gamma = 2, annealing = false)
graph = create_graph(param)
graph[:Zjn][61] = 10.0
results = optimal_network(param, graph)

# Run annealing
results_annealing = annealing(param, graph, results[:Ijk])

# Comparison
plot_graph(graph, results[:Ijk])
plot_graph(graph, results_annealing[:Ijk])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/OptimalTransportNetworks.jl#L16-L82">source</a></section></article><h1 id="Functions-Index"><a class="docs-heading-anchor" href="#Functions-Index">Functions Index</a><a id="Functions-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-Index" title="Permalink"></a></h1><ul><li><a href="#OptimalTransportNetworks.add_node"><code>OptimalTransportNetworks.add_node</code></a></li><li><a href="#OptimalTransportNetworks.annealing"><code>OptimalTransportNetworks.annealing</code></a></li><li><a href="#OptimalTransportNetworks.apply_geography"><code>OptimalTransportNetworks.apply_geography</code></a></li><li><a href="#OptimalTransportNetworks.create_auxdata"><code>OptimalTransportNetworks.create_auxdata</code></a></li><li><a href="#OptimalTransportNetworks.create_custom"><code>OptimalTransportNetworks.create_custom</code></a></li><li><a href="#OptimalTransportNetworks.create_graph"><code>OptimalTransportNetworks.create_graph</code></a></li><li><a href="#OptimalTransportNetworks.create_map"><code>OptimalTransportNetworks.create_map</code></a></li><li><a href="#OptimalTransportNetworks.create_square"><code>OptimalTransportNetworks.create_square</code></a></li><li><a href="#OptimalTransportNetworks.create_triangle"><code>OptimalTransportNetworks.create_triangle</code></a></li><li><a href="#OptimalTransportNetworks.dict_to_namedtuple"><code>OptimalTransportNetworks.dict_to_namedtuple</code></a></li><li><a href="#OptimalTransportNetworks.find_node"><code>OptimalTransportNetworks.find_node</code></a></li><li><a href="#OptimalTransportNetworks.get_model"><code>OptimalTransportNetworks.get_model</code></a></li><li><a href="#OptimalTransportNetworks.init_parameters"><code>OptimalTransportNetworks.init_parameters</code></a></li><li><a href="#OptimalTransportNetworks.namedtuple_to_dict"><code>OptimalTransportNetworks.namedtuple_to_dict</code></a></li><li><a href="#OptimalTransportNetworks.optimal_network"><code>OptimalTransportNetworks.optimal_network</code></a></li><li><a href="#OptimalTransportNetworks.plot_graph"><code>OptimalTransportNetworks.plot_graph</code></a></li><li><a href="#OptimalTransportNetworks.remove_node"><code>OptimalTransportNetworks.remove_node</code></a></li><li><a href="#OptimalTransportNetworks.represent_edges"><code>OptimalTransportNetworks.represent_edges</code></a></li></ul><h1 id="Exported-Functions"><a class="docs-heading-anchor" href="#Exported-Functions">Exported Functions</a><a id="Exported-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.init_parameters" href="#OptimalTransportNetworks.init_parameters"><code>OptimalTransportNetworks.init_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">init_parameters(; kwargs...) -&gt; Dict</code></pre><p>Returns a <code>param</code> dict with the model parameters. These are independent of the graph structure and dimensions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>alpha::Float64=0.5</code>: Cobb-Douglas coefficient on final good c^alpha * h^(1-alpha)</li><li><code>beta::Float64=1</code>: Parameter governing congestion in transport cost</li><li><code>gamma::Float64=1</code>: Elasticity of transport cost relative to infrastructure</li><li><code>K::Float64=1</code>: Amount of concrete/asphalt (infrastructure budget)</li><li><code>sigma::Float64=5</code>: Elasticity of substitution across goods (CES)</li><li><code>rho::Float64=2</code>: Curvature in utility (c^alpha * h^(1-alpha))^(1-rho)/(1-rho)</li><li><code>a::Float64=0.8</code>: Curvature of the production function L^alpha</li><li><code>N::Int64=1</code>: Number of goods traded in the economy (used for checks in <code>create_graph()</code>)</li><li><code>labor_mobility::Any=false</code>: Switch for labor mobility (true/false or &#39;partial&#39;)</li><li><code>cross_good_congestion::Bool=false</code>: Switch for cross-good congestion</li><li><code>nu::Float64=1</code>: Elasticity of substitution b/w goods in transport costs if cross-good congestion</li><li><code>m::Vector{Float64}=ones(N)</code>: Vector of weights Nx1 in the cross congestion cost function</li><li><code>annealing::Bool=true</code>: Switch for the use of annealing at the end of iterations (only if gamma &gt; beta)</li><li><code>verbose::Bool=true</code>: Switch to turn on/off text output (from Ipopt or other optimizers)</li><li><code>duality::Bool=false</code>: Switch to turn on/off duality whenever available</li><li><code>warm_start::Bool=true</code>: Use the previous solution as a warm start for the next iteration</li><li><code>kappa_min::Float64=1e-5</code>: Minimum value for road capacities K</li><li><code>min_iter::Int64=20</code>: Minimum number of iterations</li><li><code>max_iter::Int64=200</code>: Maximum number of iterations</li><li><code>tol::Float64=1e-5</code>: Tolerance for convergence of road capacities K</li></ul><p><strong>Optional Parameters</strong></p><ul><li><code>optimizer = Ipopt.Optimizer</code>: Optimizer to be used</li><li><code>optimizer_attr::Dict</code>: Dict of attributes passed to the optimizer (e.g. <code>Dict(:tol =&gt; 1e-5)</code>)</li><li><code>model_attr::Dict</code>: Dict of tuples (length 2) passed to the model (e.g. <code>Dict(:backend =&gt; (MOI.AutomaticDifferentiationBackend(), MathOptSymbolicAD.DefaultBackend()))</code> to use Symbolic AD)</li><li><code>model::Function</code>: For custom models =&gt; a function that taks an optimizer and an &#39;auxdata&#39; structure as created by create_auxdata() as input and returns a fully parameterized JuMP model</li><li><code>recover_allocation::Function</code>: For custom models =&gt; a function that takes a solution and &#39;auxdata&#39; structure as input and returns the allocation variables. In particular, it should return a dict with symbol keys returning at least objects :welfare =&gt; scalar welfare measure, :Pjn =&gt; prices, :PCj =&gt; aggregate condumption, and :Qjkn =&gt; flows. </li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">param = init_parameters(K = 10, labor_mobility = true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/init_parameters.jl#L3-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.create_graph" href="#OptimalTransportNetworks.create_graph"><code>OptimalTransportNetworks.create_graph</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_graph(param, w = 11, h = 11; type = &quot;map&quot;, kwargs...) -&gt; Dict</code></pre><p>Initialize the underlying graph, population and productivity parameters.</p><p><strong>Arguments</strong></p><ul><li><code>param::Dict</code>: Dict that contains the model parameters (only needed for checks)</li><li><code>w::Int64=11</code>: Number of nodes along the width of the underlying graph if type != &quot;custom&quot; (integer)  </li><li><code>h::Int64=11</code>: Number of nodes along the height of the underlying graph if type != &quot;custom&quot; (integer, odd if triangle)</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>type::String=&quot;map&quot;</code>: Either &quot;map&quot;, &quot;square&quot;, &quot;triangle&quot;, or &quot;custom&quot; </li><li><code>adjacency::BitMatrix</code>: J x J Adjacency matrix (only used for custom network)</li><li><code>x::Vector{Float64}</code>: x coordinate (longitude) of each node (only used for custom network)</li><li><code>y::Vector{Float64}</code>: y coordinate (latitude) of each node (only used for custom network)</li><li><code>omega::Vector{Float64}</code>: Vector of Pareto weights for each node or region in partial mobility case (default ones(J or nregions))</li><li><code>Zjn::Matrix{Float64}</code>: J x N matrix of producties per node (j = 1:J) and good (n = 1:N) (default ones(J, N))</li><li><code>Lj::Vector{Float64}</code>: Vector of populations in each node (j = 1:J) (only for fixed labour case)</li><li><code>Hj::Vector{Float64}</code>: Vector of immobile good in each node (j = 1:J) (e.g. housing, default ones(J))</li><li><code>Lr::Vector{Float64}</code>: Vector of populations in each region (r = 1:nregions) (only for partial mobility)</li><li><code>region::Vector{Int64}</code>: Vector indicating region of each location (only for partial mobility)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">graph = create_graph(init_parameters())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/create_graph.jl#L4-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.apply_geography" href="#OptimalTransportNetworks.apply_geography"><code>OptimalTransportNetworks.apply_geography</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_geography(graph, geography; kwargs...) -&gt; Dict</code></pre><p>Update the network building costs of a graph based on geographical features and remove edges impeded by geographical barriers.  Aversion to altitude changes rescales building infrastructure costs <code>delta_i</code> by (see also user manual to MATLAB toolbox):</p><p><code>1 + alpha_up * max(0, Z2-Z1)^beta_up + alpha_down * max(0, Z1-Z2)^beta_down</code></p><p>and similarly for graph traversal costs <code>delta_tau</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>graph</code>: Dict or NamedTuple that contains the network graph to which the geographical features will be applied.</p></li><li><p><code>geography</code>: Dict or NamedTuple representing the geographical features, with the following fields:</p><ul><li><p><code>z::Vector{Float64}</code>: (Optional) J x 1 vector containing the z-coordinate (elevation) for each node, or <code>nothing</code> if no elevation data.</p></li><li><p><code>z_is_friction::Bool</code>: (Optional) logical value indicate that <code>z</code> represents friction rather than elevation. In that case, the measure of building cost is the average friction of the two nodes mean(Z1,Z2) rather than the difference Z2-Z1.</p></li><li><p><code>obstacles::Matrix{Int64}</code>: (Optional) Nobs x 2 matrix specifying (i, j) pairs of nodes that are connected by obstacles, where Nobs is the number of obstacles, or <code>nothing</code> if no obstacles.</p></li></ul></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>across_obstacle_delta_i::Float64=Inf</code>: Rescaling parameter for building cost that crosses an obstacle.</li><li><code>along_obstacle_delta_i::Float64=Inf</code>: Rescaling parameter for building cost that goes along an obstacle.</li><li><code>across_obstacle_delta_tau::Float64=Inf</code>: Rescaling parameter for transport cost that crosses an obstacle.</li><li><code>along_obstacle_delta_tau::Float64=Inf</code>: Rescaling parameter for transport cost that goes along an obstacle.</li><li><code>alpha_up_i::Float64=0</code>: Building cost scale parameter for roads that go up in elevation.</li><li><code>beta_up_i::Float64=1</code>: Building cost elasticity parameter for roads that go up in elevation.</li><li><code>alpha_up_tau::Float64=0</code>: Transport cost scale parameter for roads that go up in elevation.</li><li><code>beta_up_tau::Float64=1</code>: Transport cost elasticity parameter for roads that go up in elevation.</li><li><code>alpha_down_i::Float64=0</code>: Building cost scale parameter for roads that go down in elevation.</li><li><code>beta_down_i::Float64=1</code>: Building cost elasticity parameter for roads that go down in elevation.</li><li><code>alpha_down_tau::Float64=0</code>: Transport cost scale parameter for roads that go down in elevation.</li><li><code>beta_down_tau::Float64=1</code>: Transport cost elasticity parameter for roads that go down in elevation.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">graph = create_graph(init_parameters())
geography = (z = 10*(rand(graph[:J]) .&gt; 0.95), obstacles = [1 15; 70 72])
updated_graph = apply_geography(graph, geography)

plot_graph(updated_graph, geography = geography, obstacles = true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/apply_geography.jl#L2-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.optimal_network" href="#OptimalTransportNetworks.optimal_network"><code>OptimalTransportNetworks.optimal_network</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">optimal_network(param, graph; I0=nothing, Il=nothing, Iu=nothing, 
                verbose=false, return_model=0, solve_allocation = false) -&gt; Dict</code></pre><p>Solve for the optimal network by solving the inner problem and the outer problem by iterating over the FOCs.</p><p><strong>Arguments</strong></p><ul><li><code>param</code>: Dict or NamedTuple that contains the model&#39;s parameters</li><li><code>graph</code>: Dict or NamedTuple that contains the underlying graph (created by <code>create_graph()</code> function)</li><li><code>I0::Matrix{Float64}=nothing</code>: (Optional) J x J matrix providing the initial guess for the iterations </li><li><code>Il::Matrix{Float64}=nothing</code>: (Optional) J x J matrix providing exogenous lower bound on infrastructure levels</li><li><code>Iu::Matrix{Float64}=nothing</code>: (Optional) J x J matrix providing exogenous upper bound on infrastructure levels</li><li><code>verbose::Bool=false</code>: (Optional) tell IPOPT to display results</li><li><code>return_model::Int=0</code>: (Optional) return the JuMP model and corresponding <code>recover_allocation()</code> function: 1 just returns these before solving the model, while 2 solves the model + optimal network and returns the two alongside the results. </li><li><code>solve_allocation::Bool=false</code>: (Optional) just solve the model with existing infrastructure I0 and return the results. </li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">param = init_parameters(K = 10)
graph = create_graph(param)
graph[:Zjn][61] = 10.0
results = optimal_network(param, graph)
plot_graph(graph, results[:Ijk])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/optimal_network.jl#L6-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.annealing" href="#OptimalTransportNetworks.annealing"><code>OptimalTransportNetworks.annealing</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">annealing(param, graph, I0; kwargs...)</code></pre><p>Runs the simulated annealing method starting from network <code>I0</code>. Only sensible if <code>param.gamma &gt; param.beta</code>.</p><p><strong>Arguments</strong></p><ul><li><code>param</code>: Dict or NamedTuple that contains the model&#39;s parameters</li><li><code>graph</code>: Dict or NamedTuple that contains the underlying graph </li><li><code>I0</code>: (optional) provides the initial guess for the iterations</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>verbose::Bool=false</code>: (Optional) tell IPOPT to display results</li><li><code>perturbation_method::String=&quot;random rebranching&quot;</code>: Method to be used to perturbate the network    (&quot;random&quot; is purely random, works horribly; &quot;shake&quot; applies a gaussian blur    along a random direction, works alright; &quot;rebranching&quot; (deterministic) and &quot;random rebranching&quot; (default) is the algorithm    described in Appendix A.4 in the paper, works nicely)</li><li><code>preserve_central_symmetry::Bool=false</code>: Only applies to &quot;shake&quot; method</li><li><code>preserve_vertical_symmetry::Bool=false</code>: Only applies to &quot;shake&quot; method</li><li><code>preserve_horizontal_symmetry::Bool=false</code>: Only applies to &quot;shake&quot; method</li><li><code>smooth_network::Bool=true</code>: Whether to smooth the network after each perturbation if <code>perturbation_method</code> is &quot;random&quot;</li><li><code>smoothing_radius::Float64=0.25</code>: Parameters of the Gaussian blur if <code>perturbation_method</code> is &quot;random&quot; or &quot;shake&quot;</li><li><code>mu_perturbation::Float64=log(0.3)</code>: Parameters of the Gaussian blur if <code>perturbation_method</code> is &quot;shake&quot;</li><li><code>sigma_perturbation::Float64=0.05</code>: Parameters of the Gaussian blur if <code>perturbation_method</code> is &quot;shake&quot;</li><li><code>num_random_perturbations::Int64=1</code>: Number of links to be randomly affected (&quot;random&quot; and &quot;random rebranching&quot; only)</li><li><code>display::Bool</code>: Display the graph in each iteration as we go</li><li><code>t_start::Float64=100</code>: Initial temperature</li><li><code>t_end::Float64=1</code>: Final temperature</li><li><code>t_step::Float64=0.9</code>: Speed of cooling</li><li><code>num_deepening::Int64=4</code>: Number of FOC iterations between candidate draws</li><li><code>Iu::Matrix{Float64}=Inf * ones(J, J)</code>: J x J matrix of upper bounds on network infrastructure Ijk</li><li><code>Il::Matrix{Float64}=zeros(J, J)</code>: J x J matrix of lower bounds on network infrastructure Ijk</li><li><code>final_model::JuMPModel</code>: (Optionally) a readily parameterized JuMP model to be used (from <code>optimal_network()</code>)</li><li><code>recover_allocation::Function</code>: The <code>recover_allocation()</code> function corresponding to <code>final_model</code></li><li><code>allocation::Dict</code>: The result from <code>recover_allocation()</code> from a previous solution of the model: to skip an initial resolve without perturbations. </li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Nonconvex case, disabling automatic annealing
param = init_parameters(K = 10, gamma = 2, annealing = false)
graph = create_graph(param)
graph[:Zjn][61] = 10.0
results = optimal_network(param, graph)

# Run annealing
results_annealing = annealing(param, graph, results[:Ijk])

# Comparison
plot_graph(graph, results[:Ijk])
plot_graph(graph, results_annealing[:Ijk])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/annealing.jl#L2-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.plot_graph" href="#OptimalTransportNetworks.plot_graph"><code>OptimalTransportNetworks.plot_graph</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_graph(graph, edges = nothing; kwargs...) -&gt; Plots.Plot</code></pre><p>Plot a graph visualization with various styling options.</p><p><strong>Arguments</strong></p><ul><li><code>graph::Dict</code>: The network graph (created with <code>create_graph()</code>)</li><li><code>edges::Matrix{Float64}=nothing</code>: Matrix of edge weights (J x J)</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>grid::Bool=false</code>: Show gridlines </li><li><code>axis::Tuple=([], false)</code>: Axis ticks and labels (see Plots.jl docs, default disable axis)</li><li><code>margin::Real=0mm</code>: Margin around plot </li><li><code>aspect_ratio::Symbol=:equal</code>: Plot aspect ratio (set to a real number (h/w) if not :equal)</li><li><code>height::Int=600</code>: Plot height in pixels (width is proportional to height / aspect_ratio, but also depends on the relative ranges of the x and y coordinates of the graph)</li><li><code>map::Vector=nothing</code>: Values mapped to graph for background heatmap</li><li><code>map_color::Symbol=:YlOrBr_4</code>: Colorscale for background heatmap</li><li><code>mesh::Bool=false</code>: Show mesh lines between nodes</li><li><code>mesh_color::Symbol=:grey90</code>: Color for mesh lines </li><li><code>mesh_style::Symbol=:dash</code>: Linestyle for mesh lines</li><li><code>mesh_transparency::Real=1</code>: Opacity for mesh lines</li><li><code>edges::Bool=true</code>: Show edges between nodes</li><li><code>edge_color::Symbol=:blue</code>: Edge color or color gradient</li><li><code>edge_scaling::Bool=false</code>: Size edges based on raw values</li><li><code>edge_transparency::Union{Bool,Real}=true</code>: Transparency for edges</li><li><code>edge_min::Real</code>: Minimum edge value for scaling</li><li><code>edge_max::Real</code>: Maximum edge value for scaling  </li><li><code>edge_min_thickness::Real=0.1</code>: Minimum thickness for edges</li><li><code>edge_max_thickness::Real=2</code>: Maximum thickness for edges</li><li><code>arrows::Bool=false</code>: Show arrowheads on edges </li><li><code>arrow_scale::Real=1</code>: Scaling factor for arrowheads</li><li><code>arrow_style::String=&quot;long&quot;</code>: Style of arrowheads (&quot;long&quot; or &quot;thin&quot;)</li><li><code>nodes::Bool=true</code>: Show nodes</li><li><code>node_sizes::Vector=ones(J)</code>: Sizes for nodes</li><li><code>node_sizes_scale::Real=75</code>: Overall scaling for node sizes</li><li><code>node_shades::Vector=nothing</code>: Shades mapped to nodes</li><li><code>node_color::Symbol=:purple</code>: Node color or color gradient </li><li><code>node_stroke_width::Real=0</code>: Stroke width for node outlines</li><li><code>node_stroke_color::Symbol=nothing</code>: Stroke color for node outlines </li><li><code>geography=nothing</code>: Dict or NamedTuple with geography data, see also <code>apply_geography()</code></li><li><code>obstacles::Bool=false</code>: Show obstacles from geography</li><li><code>obstacle_color::Symbol=:black</code>: Color for obstacles</li><li><code>obstacle_thickness::Real=3</code>: Thickness for obstacles</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">param = init_parameters(K = 10)
graph = create_graph(param)
graph[:Zjn][51] = 10.0
results = optimal_network(param, graph)
plot_graph(graph, results[:Ijk])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/plot_graph.jl#L6-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.find_node" href="#OptimalTransportNetworks.find_node"><code>OptimalTransportNetworks.find_node</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_node(graph, x, y) -&gt; Int64</code></pre><p>Returns the index of the node closest to the coordinates (x,y) on the graph.</p><p><strong>Arguments</strong></p><ul><li><code>graph::Dict</code>: Dict that contains the underlying graph (created by create_graph())</li><li><code>x::Float64</code>: x coordinate on the graph (between 1 and w)</li><li><code>y::Float64</code>: y coordinate on the graph (between 1 and h)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/nodes.jl#L101-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.add_node" href="#OptimalTransportNetworks.add_node"><code>OptimalTransportNetworks.add_node</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_node(graph, x, y, neighbors) -&gt; Dict</code></pre><p>Add a node in position (x,y) and list of neighbors. The new node is given an index J+1. Returns an updated <code>graph</code> object.</p><p><strong>Arguments</strong></p><ul><li><code>graph::Dict</code>: Dict that contains the underlying graph (created by create_graph())</li><li><code>x::Float64</code>: x coordinate of the new node (any real number)</li><li><code>y::Float64</code>: y coordinate of the new node (any real number)</li><li><code>neighbors::Vector{Int64}</code>: Vector of nodes to which it is connected (1 x n list of node indices between 1 and J, where n is an arbitrary # of neighbors) </li></ul><p><strong>Notes</strong></p><p>The cost matrices <code>delta_tau</code> and <code>delta_i</code> are parametrized as a function of Euclidean distance between nodes.  The new node is given population 1e-6 and productivity equal to the minimum productivity in the graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/nodes.jl#L2-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.remove_node" href="#OptimalTransportNetworks.remove_node"><code>OptimalTransportNetworks.remove_node</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remove_node(graph, i) -&gt; Dict</code></pre><p>Removes node i from the graph, returning an updated <code>graph</code> object.</p><p><strong>Arguments</strong></p><ul><li><code>graph::Dict</code>: Dict that contains the underlying graph (created by create_graph())</li><li><code>i::Int64</code>: index of the mode to be removed (integer between 1 and graph[:J])</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/nodes.jl#L117-L125">source</a></section></article><h1 id="Documented-Internal-Functions"><a class="docs-heading-anchor" href="#Documented-Internal-Functions">Documented Internal Functions</a><a id="Documented-Internal-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Documented-Internal-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.dict_to_namedtuple" href="#OptimalTransportNetworks.dict_to_namedtuple"><code>OptimalTransportNetworks.dict_to_namedtuple</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dict_to_namedtuple(dict)</code></pre><p>Convert a dictionary to a NamedTuple.</p><p>If the input is already a NamedTuple, it is returned unchanged. Otherwise, it creates a new NamedTuple from the dictionary&#39;s keys and values.</p><p><strong>Arguments</strong></p><ul><li><code>dict</code>: A dictionary or NamedTuple to be converted.</li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple equivalent to the input dictionary.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/helper.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.namedtuple_to_dict" href="#OptimalTransportNetworks.namedtuple_to_dict"><code>OptimalTransportNetworks.namedtuple_to_dict</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">namedtuple_to_dict(namedtuple)</code></pre><p>Convert a NamedTuple to a dictionary.</p><p>If the input is already a dictionary, it is returned unchanged. Otherwise, it creates a new dictionary from the NamedTuple&#39;s pairs.</p><p><strong>Arguments</strong></p><ul><li><code>namedtuple</code>: A NamedTuple or dictionary to be converted.</li></ul><p><strong>Returns</strong></p><ul><li>A dictionary equivalent to the input NamedTuple.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/helper.jl#L24-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.create_map" href="#OptimalTransportNetworks.create_map"><code>OptimalTransportNetworks.create_map</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_map(w, h) -&gt; Dict</code></pre><p>Creates a square graph structure with width <code>w</code> and height <code>h</code>  (nodes have 8 neighbors in total, along horizontal and vertical  dimensions and diagonals)</p><p><strong>Arguments</strong></p><ul><li><code>w</code>: Width of graph (i.e. the number of nodes along horizontal dimension), must be an integer</li><li><code>h</code>: Height of graph (i.e. the number of nodes along vertical dimension), must be an integer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/create_graph.jl#L174-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.create_square" href="#OptimalTransportNetworks.create_square"><code>OptimalTransportNetworks.create_square</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_square(w, h) -&gt; Dict</code></pre><p>Creates a square graph structure with width w and height h (nodes have 4 neighbors in total, along horizontal and vertical dimensions, NOT diagonals)</p><p><strong>Arguments</strong></p><ul><li><code>w</code>: width of graph (ie. the number of nodes along horizontal dimension), must be an integer </li><li><code>h</code>: height of graph (ie. the number of nodes along vertical dimension), must be an integer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/create_graph.jl#L354-L364">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.create_triangle" href="#OptimalTransportNetworks.create_triangle"><code>OptimalTransportNetworks.create_triangle</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_triangle(w, h) -&gt; Dict</code></pre><p>Creates a triangular graph structure with width <code>w</code> and height <code>h</code>  (each node is the center of a hexagon and each node has 6 neighbors,  horizontal and along the two diagonals)</p><p><strong>Arguments</strong></p><ul><li><code>w</code>: Width of graph (i.e. the max number of nodes along horizontal dimension), must be an integer</li><li><code>h</code>: Height of graph (i.e. the max number of nodes along vertical dimension), must be an odd integer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/create_graph.jl#L248-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.create_custom" href="#OptimalTransportNetworks.create_custom"><code>OptimalTransportNetworks.create_custom</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_custom(adjacency, x, y) -&gt; Dict</code></pre><p>Creates a custom graph structure with given adjacency matrix, x and y vectors  of coordinates.</p><p><strong>Arguments</strong></p><ul><li><code>adjacency</code>: Adjacency matrix </li><li><code>x</code>: Vector of x coordinates of locations</li><li><code>y</code>: Vector of y coordinates of locations</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/create_graph.jl#L411-L421">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.represent_edges" href="#OptimalTransportNetworks.represent_edges"><code>OptimalTransportNetworks.represent_edges</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">represent_edges(graph)</code></pre><p>Creates a NamedTuple providing detailed representation of the graph edges. </p><p><strong>Arguments</strong></p><ul><li><code>graph</code>: NamedTuple that contains the underlying graph (created by <code>dict_to_namedtuple(create_graph())</code>)</li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple with the following fields:<ul><li><code>A</code>: J x ndeg matrix where each column represents an edge. The value is 1 if the edge starts at node J, -1 if it ends at node J, and 0 otherwise.</li><li><code>Apos</code>: J x ndeg matrix where each column represents an edge. The value is the positive part of the edge flow.</li><li><code>Aneg</code>: J x ndeg matrix where each column represents an edge. The value is the negative part of the edge flow.</li><li><code>edge_start</code>: J x ndeg matrix where each column represents an edge. The value is the starting node of the edge.</li><li><code>edge_end</code>: J x ndeg matrix where each column represents an edge. The value is the ending node of the edge.</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/helper.jl#L119-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.create_auxdata" href="#OptimalTransportNetworks.create_auxdata"><code>OptimalTransportNetworks.create_auxdata</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_auxdata(param, graph, edges, I)</code></pre><p>Creates the auxdata structure that contains all the auxiliary parameters for estimation</p><p><strong>Arguments</strong></p><ul><li><code>param</code>: NamedTuple that contains the model&#39;s parameters (created by <code>dict_to_namedtuple(init_parameters())</code>)</li><li><code>graph</code>: NamedTuple that contains the underlying graph (created by <code>dict_to_namedtuple(create_graph())</code>)</li><li><code>edges</code>: NamedTuple that contains the edges of the graph (created by <code>represent_edges()</code>)</li><li><code>I</code>: J x J symmetric matrix of current infrastructure (investments)</li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple with the following fields:<ul><li><code>param</code>: The input parameter NamedTuple.</li><li><code>graph</code>: The input graph NamedTuple.</li><li><code>edges</code>: The edges of the graph.</li><li><code>kappa</code>: The kappa matrix: I^gamma / delta_tau</li><li><code>kappa_ex</code>: The extracted kappa values (ndeg x 1)</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/helper.jl#L164-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OptimalTransportNetworks.get_model" href="#OptimalTransportNetworks.get_model"><code>OptimalTransportNetworks.get_model</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_model(auxdata)</code></pre><p>Construct the appropriate JuMP model based on the auxiliary data.</p><p><strong>Arguments</strong></p><ul><li><code>auxdata</code>: Auxiliary data required for constructing the model (created by <code>create_auxdata()</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>model</code>: The constructed JuMP model.</li><li><code>recover_allocation</code>: A function to recover the allocation from the model solution.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SebKrantz/OptimalTransportNetworks.jl/blob/0a2e6860b0e7df737e4b69662a76fccc0401ce92/src/main/helper.jl#L206-L217">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Monday 16 September 2024 11:51">Monday 16 September 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
